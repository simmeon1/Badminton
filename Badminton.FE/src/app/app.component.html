<mat-tab-group [selectedIndex]="selectedTab()" (selectedIndexChange)="selectedTab.set($event)">
    <mat-tab label="Form">
        <form novalidate (submit)="onSubmit($event)">
            <div class="form-wrapper">
                <div>
                    <mat-form-field>
                        <mat-label>Add players, one per line</mat-label>
                        <textarea matInput cdkTextareaAutosize [formField]="form.names"></textarea>
                    </mat-form-field>
                </div>
                <div>
                    <mat-form-field>
                        <mat-label>Minimum games each?</mat-label>
                        <input type="number" matInput [formField]="form.minGames">
                    </mat-form-field>
                </div>
                <div>
                    <mat-form-field>
                        <mat-label>How many courts?</mat-label>
                        <input type="number" matInput [formField]="form.courtCount">
                    </mat-form-field>
                </div>
                <div>
                    <mat-checkbox [formField]="form.shuffle">Shuffle names</mat-checkbox>
                </div>
                <button matButton="filled" type="submit" [disabled]="form().invalid() || responseResource.isLoading()">Submit</button>
                <button matButton type="button" (click)="form.names().value.set('')">Clear names</button>
            </div>
        </form>
    </mat-tab>
    <mat-tab label="Players">
        <matchup-table [latestResponse]="responseResource.value()"
                       [isLoading]="responseResource.isLoading()"
                       [selectedPlayer]="selectedPlayer()"
                       (datasourceChanged)="datasourceChanged($event)"
                       (selectedPlayerChanged)="selectedPlayerChanged($event)"
        >

        </matchup-table>
    </mat-tab>
    <mat-tab label="Matches">
        <matchups-print
                [latestResponse]="responseResource.value()"
                [isLoading]="responseResource.isLoading()"
                [selectedPlayer]="selectedPlayer()"
        ></matchups-print>
    </mat-tab>
</mat-tab-group>
